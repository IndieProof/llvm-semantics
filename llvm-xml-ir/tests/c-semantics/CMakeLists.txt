MACRO(C_SEMANTIC_TEST_CASES file)
  add_test(${file} ${PROJECT_SOURCE_DIR}/scripts/xml-test-wrapper.py ${PROJECT_BINARY_DIR}/tools/llvm-dis-xml ${LLVM_CLANG_EXECUTABLE} -emit-llvm -c ${CMAKE_CURRENT_SOURCE_DIR}/${file} -o -)
  add_test(${file}-opt ${PROJECT_SOURCE_DIR}/scripts/xml-test-wrapper.py ${PROJECT_BINARY_DIR}/tools/llvm-dis-xml ${LLVM_CLANG_EXECUTABLE} -emit-llvm -c ${CMAKE_CURRENT_SOURCE_DIR}/${file} -o - -O2)
ENDMACRO(C_SEMANTIC_TEST_CASES)

C_SEMANTIC_TEST_CASES(base64.c)
C_SEMANTIC_TEST_CASES(bubblesort.c)
C_SEMANTIC_TEST_CASES(duffsDevice.c)
C_SEMANTIC_TEST_CASES(fib.c)
C_SEMANTIC_TEST_CASES(gotoStatic.c)
C_SEMANTIC_TEST_CASES(helloworld.c)
C_SEMANTIC_TEST_CASES(md5.c)
C_SEMANTIC_TEST_CASES(reverse.c)
C_SEMANTIC_TEST_CASES(schorr-waite.c)
C_SEMANTIC_TEST_CASES(sumn.c)
C_SEMANTIC_TEST_CASES(testStatic2.c)
